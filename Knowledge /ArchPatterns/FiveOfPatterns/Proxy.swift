protocol Image {
    func display()
}

class RealImage: Image {
    init(filename: String) { /* –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ */ }
    func display() { print("–ü–æ–∫–∞–∑—ã–≤–∞—é –∫–∞—Ä—Ç–∏–Ω–∫—É") }
}

class ProxyImage: Image {
    private let filename: String
    private var realImage: RealImage?

    init(filename: String) {
        self.filename = filename
    }

    func display() {
        if realImage == nil {
            realImage = RealImage(filename: filename)
        }
        realImage?.display()
    }
}

/*
 üëâ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
 –°–æ–∑–¥–∞—ë—Ç –∑–∞–º–µ–Ω—É –æ–±—ä–µ–∫—Ç–∞ –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–º—É. –ü—Ä–∏ —ç—Ç–æ–º —Å–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–µ–º –∂–µ.

 –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
     ‚Ä¢    –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ª–µ–Ω–∏–≤–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—è–∂—ë–ª—ã–π –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ).
     ‚Ä¢    –ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —É–¥–∞–ª—ë–Ω–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç–µ–≤–æ–π —Å–µ—Ä–≤–∏—Å), –Ω–æ –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –æ–±—ä–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π.
     ‚Ä¢    –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø).

 –ü—Ä–∏–º–µ—Ä—ã:
     ‚Ä¢    Virtual Proxy: —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.
     ‚Ä¢    Remote Proxy: –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —É–¥–∞–ª—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç (RMI, gRPC –∏ —Ç.–¥.).
     ‚Ä¢    Protection Proxy: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞.
 */
